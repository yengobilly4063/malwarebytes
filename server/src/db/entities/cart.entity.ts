import { CartStatus } from "../common/types";
import { Column, Entity, PrimaryGeneratedColumn } from "typeorm";
import { Field, ID, ObjectType } from "type-graphql";
import { CartItem } from ".";

@Entity({ name: "cart" })
@ObjectType({ description: "Describes user cart with products user wishes to purchase" })
export class Cart {
  @PrimaryGeneratedColumn("uuid")
  @Field(() => ID!)
  id?: string;

  @Column({ type: "uuid", length: 36, name: "user_id" })
  @Field(() => String, { nullable: true })
  userId?: string;

  @Column({ type: "enum", enum: CartStatus })
  @Field(() => String, { nullable: true })
  status?: CartStatus;

  @Field(() => [CartItem], { nullable: true })
  items?: Array<CartItem>;
}
