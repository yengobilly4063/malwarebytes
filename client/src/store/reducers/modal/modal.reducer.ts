import { storeModalData } from "../../../common/local-storage/modal.local";
import { IState, StoreStates } from "../../state.interfaces";
import { ModalActionType, ModalConstants, ModalState } from "./modal.types";

const initialState: ModalState = { isOpen: false, data: undefined };

const modalReducer = (state: IState[StoreStates.MODAL] = initialState, action: ModalActionType) => {
  switch (action.type) {
    case ModalConstants.OPEN: {
      storeModalData(action.payload);
      return {
        ...state,
        isOpen: true,
        data: action.payload,
      };
    }
    case ModalConstants.CLOSE: {
      return {
        ...state,
        isOpen: false,
      };
    }
    default:
      return state;
  }
};
export const getModalState = (state: IState) => state[StoreStates.MODAL];

export default modalReducer;
