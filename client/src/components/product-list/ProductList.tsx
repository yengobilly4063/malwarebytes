import React from "react";
import { useSelector } from "react-redux";
import { Product } from "../../models/product.model";
import { getModalState } from "../../store/reducers/modal/modal.reducer";
import Container from "../container/Container";
import Modal from "../modal/Modal";
import ProductDetails from "../product-details/ProductDetails";
import ProductItem from "../product-item/ProductItem";
import styles from "./ProductList.module.scss";
interface IProps {
  products?: Array<Product>;
}

const ProductList: React.FC<IProps> = ({ products }) => {
  const { data } = useSelector(getModalState);

  return (
    <React.Fragment>
      <Container width={70}>
        <div className={styles.list}>
          {products?.map((product: Product) => (
            <ProductItem product={product} key={product.id} id={products.indexOf(product) + 1} />
          ))}
        </div>
      </Container>
      <Modal>
        <ProductDetails product={data} />
      </Modal>
    </React.Fragment>
  );
};

export default ProductList;
