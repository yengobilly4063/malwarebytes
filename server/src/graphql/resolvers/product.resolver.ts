import { Product } from "../../db/entities/product.entity";
import { Authorized, Query, Resolver } from "type-graphql";
import { ProductService } from "../../services";
import { Service } from "typedi";

@Service()
@Resolver(() => Product)
export default class ProductResolver {
  constructor(private readonly productService: ProductService) {
    productService = new ProductService();
  }

  @Authorized()
  @Query(() => [Product])
  async products(): Promise<Array<Product>> {
    return this.productService.getAllProducts();
  }
}
