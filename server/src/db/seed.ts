import { products } from "./mock-data";
import { getRepository, Repository } from "typeorm";
import { Product } from "./entities";

export const seedProducts = async () => {
  const productRepository: Repository<Product> = getRepository(Product);
  const foundProducts: Array<Product> = await productRepository.find();

  if (products.length === foundProducts.length) return;

  products.map(async (product: Product) => {
    await productRepository.save({ ...product });
  });
};
