import React from "react";
import { useDispatch } from "react-redux";
import { storeModalData } from "../../common/local-storage/modal.local";
import { Product } from "../../models/product.model";
import { openModal } from "../../store/reducers/modal/modal.action-creators";
import styles from "./ProductItem.module.scss";

interface IProps {
  product?: Product;
  id?: number;
}

const ProductItem: React.FC<IProps> = ({ product, id }) => {
  const dispatch = useDispatch();

  const handleProductClicked = () => {
    dispatch(openModal(product!));
  };
  return (
    <div className={styles.item}>
      <span className={styles.productId}>{id}</span>
      <span className={styles.productNameSection}>
        <span className={styles.productName} onClick={handleProductClicked}>
          {product?.name}
        </span>
      </span>
      <span className={styles.productQuantity}>{product?.quantity}</span>
    </div>
  );
};

export default ProductItem;
